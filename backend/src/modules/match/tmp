import { serverContext } from '../../context';
import { matchMakingClass } from './match.class';

const matchmaker = new matchMakingClass();

export const creatematch = (
  context: ServerContext,
  input: patchmatchInput
) => {
  return matchmaker.registerMatch( input );
};

export const updateStatus = (
  context: ServerContext,
  id: string,
  input: patchmatchInput,
) => {
  return matchmaker.updateStatus( id.userId, input.status );
};

export const getMatchById = (
  context: ServerContext,
  id: string,
) => {
  return matchmaker.getMatchById( id.matchId );
};

export const getAllorFilteredmatch = (
  context: ServerContext, 
  query: Record<string, any> 
) => {
  console.log( query, query.length );
  const match = matchmaker.getAllorFilteredMatch( query );
  console.log( match );
  return( match );
};

export const removematch = (
  context: ServerContext,
  id: string
) => {
  return matchmaker.removeMatch( id.matchId );
};

